(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5303)}])},5303:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(5893),l=t(7294);let r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhzY3podWtmd2FyemdzYWJmY2x0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwOTUxNDIsImV4cCI6MjA2OTY3MTE0Mn0.WS85NSFj38-CJA2t_j1UpsdfkK7wNdtH5J2xtTpoD8c";function i(){let[e,s]=(0,l.useState)([]),[t,i]=(0,l.useState)(!0),[n,c]=(0,l.useState)("opportunities"),[d,x]=(0,l.useState)([]),[o,m]=(0,l.useState)(new Date),h=async()=>{i(!0);try{let e=await fetch("".concat("https://hsczhukkfwarzgsabfclt.supabase.co","/rest/v1/listings?status=eq.active&transmission=eq.manual&order=investment_score.desc&limit=50"),{headers:{apikey:r,Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();s(t),m(new Date)}catch(e){console.error("Error loading opportunities:",e),s([{id:"1",source:"autoscout24",model:"997.1 Carrera S",year:2007,price:52900,currency:"EUR",mileage:89500,transmission:"manual",color:"Guards Red",country:"DE",city:"Munich",seller_type:"dealer",investment_score:9.2,market_value:61e3,rarity_score:"high",description:"Excellent condition 997.1 Carrera S",images_count:15,first_seen:new Date().toISOString(),status:"active",url:"https://autoscout24.de/listing/123456"}])}finally{i(!1)}};(0,l.useEffect)(()=>{h()},[]);let g=e=>{d.includes(e)||x([...d,e])},u=e=>{x(d.filter(s=>s!==e))},p=e=>e?e>=9?"text-green-600 bg-green-50":e>=8?"text-blue-600 bg-blue-50":e>=7?"text-yellow-600 bg-yellow-50":"text-gray-600 bg-gray-50":"text-gray-600 bg-gray-50",j=e=>{var s,t,l;let{car:r}=e,i=(r.market_value||0)-r.price,n=(i/r.price*100).toFixed(1);return(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:r.model}),(0,a.jsxs)("p",{className:"text-gray-600",children:[r.year," • ",null===(s=r.mileage)||void 0===s?void 0:s.toLocaleString()," km"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(p(r.investment_score)),children:[null===(t=r.investment_score)||void 0===t?void 0:t.toFixed(1),"/10"]}),(0,a.jsx)("button",{onClick:()=>d.includes(r.id)?u(r.id):g(r.id),className:"p-2 rounded-full transition-colors ".concat(d.includes(r.id)?"text-red-500 bg-red-50":"text-gray-400 hover:text-red-500"),children:"❤️"})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["€",r.price.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Market Value"}),(0,a.jsxs)("div",{className:"font-semibold",children:["€",null===(l=r.market_value)||void 0===l?void 0:l.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-green-600 font-semibold",children:["+€",i.toLocaleString()," potential gain (",n,"%)"]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Listed recently"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"\uD83D\uDCCD"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[r.city,", ",r.country]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"⚙️"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:r.transmission})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:r.color})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"⭐"}),(0,a.jsx)("span",{className:"text-sm px-2 py-1 rounded bg-purple-50 text-purple-600",children:r.rarity_score})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,a.jsx)("span",{className:"font-medium",children:r.source})," • ",r.seller_type]}),(0,a.jsx)("button",{onClick:()=>window.open(r.url,"_blank"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:"View Listing \uD83D\uDD17"})]})]})})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"997"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Porsche 997 Manual Tracker"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Real-time investment opportunities • Connected to Supabase"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-green-50 px-3 py-2 rounded-lg",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-green-700 text-sm font-medium",children:"Live Data"})]}),(0,a.jsx)("button",{onClick:h,disabled:t,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg transition-colors",children:t?"\uD83D\uDD04 Loading...":"\uD83D\uDD04 Refresh"})]})]})})}),(0,a.jsx)("nav",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6",children:(0,a.jsx)("div",{className:"flex space-x-8",children:[{id:"opportunities",label:"\uD83D\uDC8E Investment Opportunities"},{id:"watchlist",label:"❤️ Watchlist"},{id:"market",label:"\uD83D\uDCCA Market Data"}].map(e=>(0,a.jsx)("button",{onClick:()=>c(e.id),className:"py-4 px-2 border-b-2 font-medium text-sm transition-colors ".concat(n===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:e.label},e.id))})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:["opportunities"===n&&(0,a.jsxs)("div",{children:[(0,a.jsx)(()=>{let s=e.length,t=Math.round(e.reduce((e,s)=>e+s.price,0)/s||0);return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Listings"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s})]}),(0,a.jsx)("span",{className:"text-4xl",children:"\uD83D\uDCCA"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Avg Price"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["€",t.toLocaleString()]}),(0,a.jsx)("p",{className:"text-green-600 text-sm",children:"\uD83D\uDCC8 +2.3% (7d)"})]}),(0,a.jsx)("span",{className:"text-4xl",children:"\uD83D\uDCB0"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"New Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"3"})]}),(0,a.jsx)("span",{className:"text-4xl",children:"\uD83D\uDD14"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"High Score Cars"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>e.investment_score&&e.investment_score>=8.5).length})]}),(0,a.jsx)("span",{className:"text-4xl",children:"\uD83C\uDFC6"})]})})]})},{}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD0D"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Database Status"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Updated: ",o.toLocaleTimeString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-green-700",children:e.length>0?"Connected to Supabase ✅":"Using sample data (check connection)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Investment Opportunities",(0,a.jsxs)("span",{className:"ml-2 text-lg font-normal text-gray-600",children:["(",e.length," found)"]})]}),t&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-blue-500",children:"\uD83D\uDD04"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Loading from Supabase..."})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(e=>(0,a.jsx)(j,{car:e},e.id))}),0===e.length&&!t&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("span",{className:"text-6xl",children:"\uD83D\uDE97"}),(0,a.jsx)("p",{className:"text-gray-600 mt-4",children:"No opportunities found."}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Check your Supabase connection."})]})]})]}),"watchlist"===n&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Your Watchlist"}),0===d.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("span",{className:"text-6xl",children:"❤️"}),(0,a.jsx)("p",{className:"text-gray-600 mt-4",children:"No cars in your watchlist yet."}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Add cars from the opportunities page to track them here."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.filter(e=>d.includes(e.id)).map(e=>(0,a.jsx)(j,{car:e},e.id))})]}),"market"===n&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Market Intelligence"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Database Status"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)("span",{className:"font-medium",children:"Supabase Connection"}),(0,a.jsx)("span",{className:"text-green-600",children:"✅ Connected"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)("span",{className:"font-medium",children:"Active Listings"}),(0,a.jsx)("span",{className:"text-blue-600 font-semibold",children:e.length})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Next Steps"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-yellow-800",children:"1. Add Real Data Sources"}),(0,a.jsx)("div",{className:"text-sm text-yellow-600",children:"Connect scrapers for AutoScout24, Mobile.de, etc."})]}),(0,a.jsxs)("div",{className:"p-3 bg-orange-50 rounded-lg",children:[(0,a.jsx)("div",{className:"font-medium text-orange-800",children:"2. Setup Alerts"}),(0,a.jsx)("div",{className:"text-sm text-orange-600",children:"Configure email/Telegram notifications"})]})]})]})]})]})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);